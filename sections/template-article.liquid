{% comment %}
  This section is used in the article template to render the article page, which
  displays the full content of the blog post and can optionally include a
  comments section for customers (not shown in this example).

  https://shopify.dev/docs/storefronts/themes/architecture/templates/article
{% endcomment %}
<article class="py-8" itemscope itemtype="http://schema.org/BlogPosting">
  {% for block in section.blocks %}
    {% case block.type %}
      {% when "article_title" %}
        <div class="flex items-center justify-center">
            <div class="max-w-7xl text-center">
              <a href="{{ blog.url }}" class="text-base uppercase text-grey-500 hover:text-gray-900 font-bold">{{ blog.title }}</a>
              <h1 class="text-4xl md:text-6xl font-medium" itemprop="headline">{{ article.title }}</h1>
            </div>
        </div>
      {% when "article_author" %}
        {% if section.settings.enable_author %}
           <div class="flex items-center justify-center" itemscope itemtype="http://schema.org/Person">
            <div class="max-w-7xl text-center">
                <small itemprop="author">{{ article.author }}</small>
            </div>
          </div>
        {% endif %}

      {% when "article_published_date" %}
        {% if section.settings.enable_published_date %}
          <div class="flex items-center justify-center">
            <div class="max-w-7xl text-center">
              <time datetime="{{ article.published_at | date: '%Y-%m-%d' }}" itemprop="datePublished dateCreated">
                {{ article.published_at | date: format: 'on_date' }}
              </time>
            </div>
          </div>
        {% endif %}

      {% when "featured_image" %}
        <div class="max-w-7xl bg-blue-100 rounded-lg max-2 md:mx-auto overflow-hidden my-10">
          {% if article.image != blank %}
            {{ article.image | image_url: width: 1000 | image_tag: class: 'w-full h-80 md:h-96 object-cover object-center', itemprop: 'image' }}
          {% else %}
              {% assign placeholder_image = 'lifestyle-2' %}
              {{ placeholder_image | placeholder_svg_tag: 'w-full h-80 md:h-96 object-cover object-center p-5' }}
          {% endif %}
        </div>
          
      {% when "article_content" %}
        <div class="flex items-center justify-center">
            <div class="max-w-5xl" itemprop="articleBody">
              {{ article.content }}
            </div>
        </div>

    {% endcase %}
  {% endfor %}
</article>


{% schema %}
{
  "name": "t:general.article",
  "settings": [
    {
      "type": "checkbox",
      "id": "enable_author",
      "default": true,
      "label": "Toggle to display author name"
    },
    {
      "type": "checkbox",
      "id": "enable_published_date",
      "default": true,
      "label": "Toggle to display published date"
    }
  ],
  "blocks": [
    {
      "type": "article_title",
      "name": "Title",
      "limit": 1
    },
    {
      "type": "article_author",
      "name": "Author",
      "limit": 1
    },
    {
      "type": "article_published_date",
      "name": "Published date",
      "limit": 1
    },
    {
      "type": "featured_image",
      "name": "Thumbnail",
      "limit": 1
    },
    {
      "type": "article_content",
      "name": "Content",
      "limit": 1
    }
  ]
}
{% endschema %}
